
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>MyGObject Demo</title>
</head>

<body>
    <h1>User Full Name: <span id="fullName"></span></h1>
    <input id="firstNameInput" placeholder="First Name" />
    <input id="lastNameInput" placeholder="Last Name" />

    <!-- Minimal Controls -->
    <div style="position: fixed; top: 10px; right: 10px;">
        <button id="undoBtn" style="margin-right: 5px;">↶ Undo</button>
        <button id="redoBtn">↷ Redo</button>
    </div>

    <!-- Load your module -->
    <script type="module" src="./init2.js"></script>

    <!-- Simple UI script -->
    <script>
        // Check every 100ms if user is ready
        const checkInterval = setInterval(() => {
            if (window.user) {
                clearInterval(checkInterval);
                setupUI();
            }
        }, 100);

        function setupUI() {
            const undoBtn = document.getElementById('undoBtn');
            const redoBtn = document.getElementById('redoBtn');

            // Button actions
            undoBtn.onclick = () => window.user.undo();
            redoBtn.onclick = () => window.user.redo();

            // Update button states every 300ms
            setInterval(() => {
                undoBtn.disabled = !window.user._history || window.user._history.length === 0;
                redoBtn.disabled = !window.user._redoStack || window.user._redoStack.length === 0;
            }, 300);

            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && window.user) {
                    if (e.key === 'z') window.user.undo();
                    if (e.key === 'y') window.user.redo();
                }
            });
        }
    </script>
</body>

</html>